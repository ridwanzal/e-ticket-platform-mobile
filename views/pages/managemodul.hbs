<div class="container">
  <h5 class="card-title fw-bold text-dark mt-4 mb-3">Upload Modul</h5>
  {{#if flash}}
  <div class="alert alert-{{flash.type}} alert-dismissible fade show" role="alert">
    {{{flash.message}}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {{/if}}

  <form action="/services/modul/add" method="POST" enctype="multipart/form-data">
    <div class="form-group mb-2">
      <label class="form-label fw-semibold text-dark">Judul Modul</label>
      <input type="text" class="form-control" name="title" placeholder="Masukkan judul modul" required>
    </div>

    <div class="form-group mb-2">
      <label class="form-label fw-semibold text-dark">Pilih File</label>
      <input type="file" class="form-control" name="filename" accept="application/pdf" required>
    </div>

    <div class="d-grid mt-4">
      <button type="submit" class="btn btn-primary">Upload</button>
    </div>
  </form>
</div>

<div class="container">
  <div class="row">
    {{#if modul.length}}
    <h5 class="fw-bold text-dark mt-5 mb-3">Daftar Modul</h5>
    {{#each modul}}
    <div class="col-md-4 col-sm-6 mb-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <h6 class="card-title text-dark fw-semibold">ðŸ“„ {{this.title}}</h6>
          <p class="text-muted small mb-3">{{this.created_at}}</p>

          <div class="d-flex justify-content-between gap-3">
            <a href="/uploads/{{this.filename}}" target="_blank" class="btn btn-sm btn-outline-primary">
              Lihat
            </a>
            <form action="/services/modul/delete/{{this.id}}" method="POST" onsubmit="return confirm('Yakin ingin menghapus modul ini?');">
              <button type="submit" class="btn btn-sm btn-outline-danger">Hapus</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    {{/each}}
    {{else}}
    <p class="text-muted">Belum ada modul yang diunggah.</p>
    {{/if}}
  </div>
</div>
